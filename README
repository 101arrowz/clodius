## Create tiles for HiC data

```
python scripts/make_tiles.py data/test.tsv -o output -v count -p pos1,pos2 -c pos1,pos2,count

OUTPUT_DIR=~/projects/4DN_matrix-viewer/hi-z/jsons/tiles/; rm -rf $OUTPUT_DIR/*; python scripts/make_tiles.py -o $OUTPUT_DIR -v count -p pos1,pos2  -i count -b 2 test/data/simpleMatrix.tsv

OUTPUT_DIR=~/projects/4DN_matrix-viewer/hi-z/jsons/tiles/; rm -rf $OUTPUT_DIR/*; python scripts/make_tiles.py -o $OUTPUT_DIR -v count -p pos1,pos2 -c pos1,pos2,count -i count -b 16 data/test.tsv

OUTPUT_DIR=~/projects/4DN_matrix-viewer/hi-z/jsons/tiles/; rm -rf $OUTPUT_DIR/*; /usr/bin/time python scripts/make_tiles.py -o $OUTPUT_DIR -v count -p pos1,pos2 -c pos1,pos2,count -i count -b 16 data/128k.raw
```

## Run tests

```
nosetests -s test/ 
```

## Timing

8 bins

16K 4.94
32K 9.42
64K 18.09
128K 35.16

16 bins

16K 6.05
32K 11.88
64K 20.57
128K 39.37

32 bins

16K 7.39
32K 14.14
64K 25.74
128K 47.68


for max_zoom in 2 3 4 5 6 7 8 9 10; do
    for bin_size in 8 16 32 64 128 256 512 1024; do 
        for data_size in 16k 32k 64k 128k 256k 512k 1m 2m 4m; do 
            OUTPUT_DIR=output; rm -rf $OUTPUT_DIR/*;
            time=`/usr/bin/time pypy scripts/make_tiles.py -o $OUTPUT_DIR -v count -p pos1,pos2 -c pos1,pos2,count -i count -b ${bin_size} --max-zoom $max_zoom data/${data_size}.raw 2>&1 | grep user | awk '{ print $3}'`;
            tar -cf output.tar output
            size=`ls -lh output.tar | awk '{ print $5}'`
            echo $max_zoom $bin_size $data_size $time $size
        done;
    done;
done;

